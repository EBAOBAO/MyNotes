Matlab 是脚本语言，就是说，它是边解释边运行的，运行前无需编译。这简化了开发流程，但运行速度较慢，且保护性差。

# 注释

单行注释：`%`
多行注释：

```matlab
%{
若干语句
%}
```

多行注释: 选中要注释的若干语句, 编辑器菜单Text->Comment, 或者快捷键Ctrl+R。

取消注释: 选中要取消注释的语句, 编辑器菜单Text->Uncomment, 或者快捷键Ctrl+T。

# 标识符

1. 由 **英文字母、数字与下划线** 组成。
2. **要以英文字母开头。**
3. 不要用关键字。

# 字面量

## 数

`pi` : $\pi$
`Inf` : 无穷大
`NaN` : 通常由 `0 / 0` 或 `Inf / Inf` 等得到。

# 矩阵

在 matlab 中，可以说一切数据实际上都是矩阵。标量是 1\*1 的矩阵。

矩阵字面量（并赋值）像是这样：

```matlab
A = [1, 2, 3; 4, 5, 6; 7, 8, 9];
```

它相当于

$$
A = 
\left [
\begin{matrix}
1 & 2 & 3 \\
4 & 5 & 6 \\
7 & 8 & 9
\end{matrix}
\right ]
$$



使用 `A(i, j)` 来表示 $a_{ij}$ ，**下标从 1 开始**。

对一行来说，

还可以用更低维的矩阵为矩阵字面量赋值：

```matlab
A = [1, 2];
B = [3, 4];
C = [A; B];
```

可以使用类似于“切片”一样的操作来取多个元素（子矩阵），像 `A(1:2, 1:2)` 这样，冒号左右两边省略表示取到头/尾，注意：**包头包尾！！** 另外还可以 `(头:步长:尾)` 这样来指定步长

有趣的是，使用 `A(2:4)` 这样的命令引用到的是将 A 按列排开为一个向量然后切片出相应的值。就是说，如果我们取 `A = [1, 2, 3; 4, 5, 6; 7, 8, 9]` ，那么 `A(2:4)` 就是 `[4, 7, 2]` 。

## 向量

只有一行或一列的矩阵就是一个向量，这样的话引用也只要像 `A(i)` 这样即可。

也可以像这样用类似切片的方式来快速新建向量：

```matlab
x = 1:2:10
```

## 多维数组

matlab 只支持二维的矩阵，但数组可以是任意维度的：

```matlab
A(1, 1, 1, 1) = 1;
A(1, 1, 2, 2) = 1;
disp(A);
```

## 常用函数

`ones(m, n)` ：创建 m\*n 的全 1 矩阵。
`zeros(m, n)` ：创建 m\*n 的全 0 矩阵。
`rand(m, n)` ：创建 m\*n 的随机矩阵，每个元素在 \[0,1\] 内。
`eye(n)` ：创建 n 阶单位矩阵。
`sparse(A)/(m, n)` ：返回以稀疏存储方式存储的矩阵 / 新建一个稀疏的全 0 矩阵。
`numel(A)`: 返回A 中元素个数。
`det(A)` : 返回方阵 `A` 的行列式。

`sort(A)`: 

 按升序对 `A` 的元素进行排序。

- 如果 `A` 是向量，则 `sort(A)` 对向量元素进行排序。
- 如果 `A` 是矩阵，则 `sort(A)` 会将 `A` 的列视为向量并对每列进行排序。
- 如果 `A` 是多维数组，则 `sort(A)` 沿大小不等于 1 的第一个数组维度计算，并将这些元素视为向量

# 运算符

`A + a` 就是每个元素都 +a ，`A * a` 也是每个元素都 \*a 。

`A .* B` 是A 中每个元素乘以对应的 B 中的对应元素，而普通的 `*` 就是矩阵乘法。

`A ^ -1` 就是求 A 的逆。

`a / b` 相当于 `b \ a` ，但重要的是对矩阵而言，`A \ B` 相当于 `inv(A) * B` ，亦即相当于 $AX = B$ 的解。

矩阵转置：使用单引号 `'` ：

```matlab
A = [1 2; 3 4];  
A’ % 结果：[1 3; 2 4]
```

对于复数数组，需用 `.'`  避免共轭。

```matlab
A = [1+1i, 2+2i];  
A.’ % 非共轭转置：[1+1i; 2+2i]
```

### 逻辑运算

**`~=` 是不等于。**

表达式的返回值：0为假，其它为真。

## 运算符优先级

[运算符优先级 - MATLAB & Simulink](https://ww2.mathworks.cn/help/matlab/matlab_prog/operator-precedence.html)

或者直接看内置的文档也可以。

## 常用运算函数

`inv(A)` 相当于 `A ^ -1` 。
`eig(A)`：特征值与特征向量（看文档吧）

`sqrt(A)` 相当于 `A.^(1/2)` 。
`nthroot(A, n)` 相当于 `A.^(1/n)` 。

求绝对值：`abs(A)` 。
求 e 的幂：`exp(A)` 。

以 e 为底的对数 `log(A)` 。
以 10 为底的对数 `log10(A)` 。

正弦 `sin(A)` ，反正弦 `asin(A)` 。

`sign(x)` : 取x的符号（x>0 返回 1，=0 返回 0，<0 返回 -1）。
`factorial(x)` : 阶乘

# 符号计算

## 符号变量

符号变量比起普通的变量而言更像是数学中的那些变量了，它可以不赋值就直接参与到表达式中，然后各种运算化简的结果也是带着这个表达式的，

符号变量需要声明：`syms x1 x2 ...` 。

`subs([表达式], [符号变量], [值])` ：将值代入符号表达式中的符号变量。

```matlab
syms x;
f = sin(x);
subs(f, x, pi);
```

```matlab
syms x y;
f = subs(sin(x), x, x + 2 * y); % 用 x + 2 * y 来代 x 。
subs(f, {x, y}, {1, 2}); % 把x与y分别用1与2代。
```

`vpa([表达式])` ：将表达式转换为浮点数，返回结果。

## 符号运算

符号极限：`limit(F, x, a)` ，相当于

$$
\lim_{x \longrightarrow a} F(x)
$$

符号求导：`diff(F, [x, n])`，相当于

$$
\frac{d^n}{dx^n}F(x)
$$

符号积分：

- 不定积分 `int(F, x)`
- 定积分 `int(F, x, a, b)`

## 解方程

`solve(方程1, 方程2, ..., 待求变量)` ：解方程或方程组， 返回解。

`vpasolve(方程1, 方程2, ..., 待求变量)` ：解方程或方程组， 返回浮点数形式的解。

```matlab
syms x; 
answ = solve(sin(x)==1,x);
```

这里注意式子中要用两个等号表示相等。

另外，对于单变量方程，也可以省略未知数，如果方程的等式右边是 0 也可以省略等式右边：

```matlab
syms x;
disp(solve(x^3-2*x-1));
%{
             -1
1/2 - 5^(1/2)/2
5^(1/2)/2 + 1/2
%}

disp(vpasolve(x^3-2*x-1));
%{
                               -1.0
-0.61803398874989484820458683436564
  1.6180339887498948482045868343656

%}
```

也可以把一个等式赋给一个变量，然后向 `solve` 中传入它：

```matlab
syms x;
equ = (sin(x)==1);%equ = sin(x)==1;
answ = solve(equ);
```

像三角函数这种周期函数，如果要得到所有的解，则需要像这样加上条件

```matlab
[answ,params,conditions] = solve(equ,x,'returnconditions',true)
```

依旧是 `equ = (sin(x)==1)` ，输出结果：

```
answ =
 
pi/2 + 2*pi*k
 
 
params =
 
k
 
 
conditions =
 
in(k, 'integer')
```



微分方程：`dsolve(方程)`（数值解不适用这个函数）


# 绘图

# 输入输出

```matlab
变量 = input('字符串');
```

**值得一提的是，你可以直接输入一个矢量！**

```matlab
x = input('请输入x：');

% 控制台中……

请输入x：[1 2 3]
```

自由格式输出：

```matlab
disp(变量|表达式|'字符串')
```

格式化输出：

```matlab
fprintf('格式字符串', [变量]);
```

格式字符串占位符基本跟c语言相同

# 流程控制

if...else：

```matlab

```

switch...case：

```matlab
switch 表达式
	case {表达式1，表达式2……}
		语句
	case {表达式1，表达式2……}
		语句
	otherwise
		语句
end
```

（若一个case只有一个表达式，则花括弧可省）

# 函数

- 函数名一般与文件名相同
- 

# 工具箱

## 拟合

## 优化

## 图像处理